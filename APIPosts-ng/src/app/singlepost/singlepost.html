<div class="container my-5">
  @if (product) {
    <div class="row" style="flex-wrap: wrap; justify-content: space-between;">

      <div class="col-2 d-flex flex-column gap-2">
        @for (imge of product.images; track $index) {
          <div style="padding:5px; border-radius: 10px; width:60px; height:60px; border:1px solid #ddd;" (click)="viewImg(imge)">
            <img [src]="imge"  alt="" style="width:100%; height:100%; object-fit:cover; border-radius: 10px;">
          </div>
        }
      </div>

      <div class="col-4">
        <img  [src]="imgLink" alt="" class="rounded w-100" style="border:1px solid #000; padding:5px;">
      </div>

      <div class="col-5">
        <p class="text-muted">{{product.category}}</p>
        <p class="h2 fw-bold">{{product.title}}</p>

        <div class="mb-2">
          <i class="fas fa-star text-warning"></i>
          <span>{{product.rating}}</span>
          <span class="text-muted">({{product.reviews.length}} reviews)</span>
        </div>

        <div class="dimentions mb-2">
          <p><i class="fas fa-check text-success"></i> Width: {{product.dimensions.width}}</p>
          <p><i class="fas fa-check text-success"></i> Height: {{product.dimensions.height}}</p>
          <p><i class="fas fa-check text-success"></i> Depth: {{product.dimensions.depth}}</p>
        </div>

        <div class="price mb-3">
          <p class="h4 text-primary">
            {{product.price | currency:'USD':'symbol':'1.2-2'}}
          </p>
          @if (product.discountPercentage) {
            <p class="text-danger">
              -{{product.discountPercentage}}% OFF
            </p>
          }
        </div>

        <div class="mb-3">
          <span class="badge bg-success">{{product.availabilityStatus}}</span>
          <span class="ms-2 text-muted">SKU: {{product.sku}}</span>
        </div>

        <div class="d-flex gap-2">
          <button class="btn btn-dark">Add to Cart</button>
          <button class="btn btn-danger">Buy Now</button>
        </div>
      </div>
    </div>

    <div class="row mt-5">
      <h3>Customer Reviews</h3>
      @if (product.reviews && product.reviews.length > 0) {
        @for (review of product.reviews; track $index) {
          <div class="border p-3 rounded mb-2">
            <p class="mb-1"><strong>{{review.reviewerName}}</strong> - ‚≠ê {{review.rating}}</p>
            <p class="text-muted small">{{review.date | date}}</p>
            <p>{{review.comment}}</p>
          </div>
        }
      } @else {
        <p class="text-muted">No reviews yet.</p>
      }
    </div>
  }
</div>
